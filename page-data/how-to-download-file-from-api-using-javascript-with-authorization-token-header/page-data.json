{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/how-to-download-file-from-api-using-javascript-with-authorization-token-header/",
    "result": {"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to download file from API using javascript with authorization token header\",\n  \"date\": \"2021-12-07\",\n  \"thumbnail\": \"./thumbnail.png\",\n  \"published\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"723px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/blog/static/f49e31b813bb3b99f41f5d1e2d7549de/c67d4/thumbnail.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"55.32503457814661%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgUlEQVQoz4WSv04CQRDG7yF4DmpK4QFMCG9ARWdzUIAtsdBSCyoLChMbsbCwkZAQEhtB+XM5AT1DLl5MwNM74nHszGeWOzmgcTLZzGb3N9/szij8rxExEDrR5omyjsTKiMj3fdq+xHOXnW/2fnZ4ZfMONizSfDe5/8gjnbpt/rA2eSXQBNBqtdrttmmapVKp2WwCEMslA6T1pCzAQnCvw5a55iW8WCwAqKpaLBaz2Wwmk6nVagAogJ8HQdk01OX26YFm04CXsO/7AAqFQrlcrlQqiUSi0WhEyvqAPY9nU7q5koz9yZO3EAZg27YQQlXVfD7vum61Wo3FYpPJRIpLZY2/bLpv0t0tXV/KFFovgg3DSKVS8Xi8Xq/ncrlkMplOpx3HCeGRzi9D0vuyiqNDOj2m4oGsBVCICIBlWaZpAvA8T9O0+XwuSSGkgjHmbodfx2yM6eJc7O/R2Un05nWTaGVhn6IhYXYd+eGuw8ulXIVgxlaf14OxOyGr3KEH8d+Q/AJJeFcAVmEdoAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"Thumbnail\",\n    \"title\": \"Thumbnail\",\n    \"src\": \"/blog/static/f49e31b813bb3b99f41f5d1e2d7549de/c67d4/thumbnail.png\",\n    \"srcSet\": [\"/blog/static/f49e31b813bb3b99f41f5d1e2d7549de/c67d4/thumbnail.png 723w\"],\n    \"sizes\": \"(max-width: 723px) 100vw, 723px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"br\", null), mdx(\"p\", null, \"Generally, to download a file from API, we open the API URL in the browser, and the rest of the work browser does for us.\"), mdx(\"p\", null, \"But sometimes APIs are behind authorization. So we need to add an authentication token in the request header otherwise API throws a 401 Unauthorized response. Let see how we can handle this situation in JavaScript.\"), mdx(\"deckgo-highlight-code\", {\n    \"language\": \"js\",\n    \"terminal\": \"carbon\",\n    \"theme\": \"blackboard\",\n    \"line-numbers\": \"true\"\n  }, \"\\n          \", mdx(\"code\", {\n    parentName: \"deckgo-highlight-code\",\n    \"slot\": \"code\"\n  }, \"function download(url, filename = null) {\\n\\t// Token for authorization\\n\\tconst token = 'Your Authorization Token';\\n\\n\\tlet xmlHttpRequest = new XMLHttpRequest();\\n\\n\\txmlHttpRequest.onreadystatechange = function () {\\n\\t\\tif (xmlHttpRequest.readyState === 4 && xmlHttpRequest.status === 200) {\\n\\t\\t\\tlet a = document.createElement('a');\\n\\t\\t\\ta.href = window.URL.createObjectURL(xmlHttpRequest.response);\\n\\n\\t\\t\\t// Get filename from Content-Disposition response header\\n\\t\\t\\tif (!filename) {\\n\\t\\t\\t\\tconst disposition = xmlHttpRequest.getResponseHeader(\\n\\t\\t\\t\\t\\t'Content-Disposition'\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\tif (disposition && disposition.indexOf('attachment') !== -1) {\\n\\t\\t\\t\\t\\tconst filenameRegex = /filename[^;=\\\\n]*=((['\\\"]).*?\\\\2|[^;\\\\n]*)/;\\n\\t\\t\\t\\t\\tconst matches = filenameRegex.exec(disposition);\\n\\t\\t\\t\\t\\tif (matches != null && matches[1]) {\\n\\t\\t\\t\\t\\t\\tfilename = matches[1].replace(/['\\\"]/g, '');\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\ta.download = filename;\\n\\t\\t\\ta.style.display = 'none';\\n\\t\\t\\tdocument.body.appendChild(a);\\n\\t\\t\\ta.click();\\n\\t\\t}\\n\\t};\\n\\n\\t// Set the request header (GET, POST, PUT, etc.)\\n\\txmlHttpRequest.open('POST', url);\\n\\n\\t// Set the Authorization header\\n\\txmlHttpRequest.setRequestHeader('Authorization', `Bearer ${token}`);\\n\\n\\txmlHttpRequest.responseType = 'blob';\\n\\n\\t// Set request body\\n\\txmlHttpRequest.send(\\n\\t\\tJSON.stringify({\\n\\t\\t\\tid: 9,\\n\\t\\t})\\n\\t);\\n}\"), \"\\n        \"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"date":"December 07, 2021","title":"How to download file from API using javascript with authorization token header"}}},"pageContext":{"slug":"how-to-download-file-from-api-using-javascript-with-authorization-token-header/","next":null}},
    "staticQueryHashes": []}